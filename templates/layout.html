<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RayBelle Charm</title>
    <!-- importando o arquivo css da página -->
    <link rel="stylesheet" href="/static/layout.css">
    {% block css %}
    {% endblock %}
    <!-- importanto os ícones do bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>

    <section class="frete">
        <div class="frete-gratis">
            <h6>FRETE GRÁTIS para pedidos acima de R$ 399,00. </h6>
        </div>
    </section>
    
    <header>
        <div class="header-container">
            <div class="header-container__logo">
                <figure>
                    <img src="/static/img/LogoRayBelleCharm.png" alt="LogoRayBelleCharm">
                </figure>
            </div>

            <div class="header-container__nome">
                <h1>RayBelle Charm</h1>
                <h2>RESGATANDO A SUA BELEZA INTERIOR</h2>
            </div>

            <div class="header-container__menu">
                <nav>
                    <div class="menu-toggle">
                        <div class="menu-bar"></div>
                        <div class="menu-bar"></div>
                        <div class="menu-bar"></div>
                    </div>
                    <ul class="header-container__menu__itens">
                        <li><a href="/cadastro">Cadastre-se</a></li>
                        <li><a href="/login">Login</a></li>
                        <li><a href="/ouro">Ouro</a></li>
                        <li><a href="/prata">Prata</a></li>
                        <li><a href="/comentario">Comentario</a></li>
                        <li><a href="/">Home</a></li>
                    </ul>
                </nav>
            </div>
            <script src="/static/raybelle.js"></script>

            <!-- Botão para abrir a modal -->
            <div class="header-container__carrinho">
                <figure onclick="openModal()">
                    <img src="/static/img/carrinho-de-compras.png" alt="icone carrinho de compras">
                </figure>
            </div>
        </div>
    </header>

    <!-- A modal -->
    <div id="myModal" class="modal">

        <!-- Conteúdo da modal -->
        <div class="modal-content">
            <!-- o x que aparece para fechar o modal -->
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Itens no Carrinho</h2>
            <ul id="cartItems">
                <!-- Aqui serão inseridos os itens do carrinho -->
                <li id="nome_produto"></li>
                <li id="preco_produto"></li>
            </ul>
        </div>

    </div>

    
    {% block conteudo %}
    {% endblock %}

    <footer>
        <p>&copy; 2024 RAYBELLE Charm Acessórios Femininos</p>
    </footer>

    <!-- Script para abrir e fechar a modal -->
    <script>
        // função para aparecer o modal
        function openModal() {
            document.getElementById("myModal").style.display = "block";
        }
    
        // função para fechar o modal
        function closeModal() {
            document.getElementById("myModal").style.display = "none";
        }

        function mostraSobreProduto(id_produto){
        $.ajax({
            url: "/api/carrinhoProdutos",
            type: 'GET',
            success: function(respostaAPI){
                mostraModal(respostaAPI)
            },
            error: function(erroAPI){
                alert("Erro ao recuperar produtos.")
            }
        })
    }

        function mostraModal(respostaAPI){
            const produto = respostaAPI;
            document.getElementById("nome_produto").innerHTML = produto.descricao;
            document.getElementById("preco_produto").innerHTML = "R$ " + produto.preco
        }
    </script>

</body>
</html>